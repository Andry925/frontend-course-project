!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="a3af757e-c371-449f-89cf-b0767c5d829d",e._sentryDebugIdIdentifier="sentry-dbid-a3af757e-c371-449f-89cf-b0767c5d829d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"385b963232c485d0dd13a35b1acc0e9158ff9321"},(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{1033:function(e,r,t){var content=t(1881);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(207).default)("93ca4636",content,!0,{sourceMap:!1})},1880:function(e,r,t){"use strict";t(1033)},1881:function(e,r,t){var o=t(206)((function(i){return i[1]}));o.push([e.i,".report-error[data-v-c6b2d072]{margin:1rem 0 0}.report-error__reshipment[data-v-c6b2d072]{color:#8a8a8a;font-size:1.4rem;margin:-1.6rem 0 1rem}.form-row__checkbox-title[data-v-c6b2d072]{color:#8a8a8a;margin-bottom:1rem}.form-row__checkbox-wrapper[data-v-c6b2d072]{display:grid;grid-gap:.8rem;grid-template-columns:repeat(auto-fill,minmax(80px,110px));max-width:44rem}",""]),o.locals={},e.exports=o},2112:function(e,r,t){"use strict";t.r(r);t(139),t(228);var o=t(43),n=(t(83),t(209),t(82),t(220),t(225),t(214),t(210),t(58),t(224),t(205)),c=t(208),l=t(240),d=t(272),f=t(264),m=t(222),_=t(217),v=t(215),h=Object(n.defineComponent)({__name:"ReportErrorProduct",props:{productUuid:null,category:null},setup:function(e){var r=e,t="https://taskmanager.synthetic.com.ua",n=Object(c.x)(),h=n.i18n,y=n.$recaptcha,k=n.$toast,$=n.$axios,w=n.$vfm,x=Object(_.a)(),C=Object(c.A)(),O=Object(c.s)(!1),j=Object(c.s)(!1),R=Object(c.s)(!1),I=Object(c.s)(!1),N=Object(c.o)({userName:"",errors:[],description:""}),B={userName:{maxLength:Object(d.maxLength)(30)},description:{required:f.h,maxLength:Object(d.maxLength)(500)}},E=Object(l.b)(B,N),D=Object(c.a)((function(){return x.isAuthenticated})),S=Object(c.a)((function(){return x.data.first_name||""})),A=function(){return[{key:"name",value:h.t("product.report_error.error_name"),checked:!1},{key:"gallery",value:h.t("product.report_error.error_gallery"),checked:!1},{key:"about",value:h.t("product.report_error.error_about"),checked:!1},{key:"attr",value:h.t("product.report_error.error_attr"),checked:!1},{key:"price",value:h.t("product.report_error.error_price"),checked:!1},{key:"others",value:h.t("product.report_error.error_others"),checked:!1}]},U=function(){w.close(v.y)},M=function(){var e=sessionStorage.getItem(v.y);I.value=Boolean(e&&e.includes(r.productUuid)),e&&(j.value=e.split(",").filter((function(e){return e===r.productUuid})).length>=3)},P=function(e){var r=sessionStorage.getItem(v.y),t=r?"".concat(r,",").concat(e):e;sessionStorage.setItem(v.y,t)},L=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=N.errors.filter((function(e){return e.checked})).map((function(e){return e.value})).join(" | "),e.prev=1,e.next=4,$.$post("".concat(t).concat(m.a.registrationSeller),{type:"CUSTOM",status:"NEW",subject:"Помилка в товарі",data:{text:"Ім'я: ".concat(N.userName,"\n Категорія: ").concat(r.category.name,"\n P-code: ").concat(r.productUuid,"\n Посилання: ").concat("synthetic.ua").concat(Object(c.u)(C).fullPath,"\n Мова: ").concat(h.locale,"\n Вибрані проблеми: ").concat(o,"\n Помилка: ").concat(N.description)}});case 4:U(),P(r.productUuid),k.success(h.t("product.report_error.toast")),O.value=!1,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),O.value=!1,401!==e.t0.response.status||D.value?400!==e.t0.response.status&&U():w.open(v.a,{form:"login",loginCallback:L});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return{__sfc:!0,xhrUrl:t,props:r,i18n:h,$recaptcha:y,$toast:k,$axios:$,$vfm:w,authUserStore:x,route:C,submitRequest:O,showCaptcha:j,captchaError:R,isAReshipment:I,formData:N,rules:B,$v:E,isAuthenticated:D,firstName:S,optionsError:A,handleOpenReport:function(){w.open(v.y)},closeModal:U,getIsAReshipment:M,setIsAReshipment:P,registrationRequest:L,handleSubmit:function(){E.value.$touch(),E.value.$invalid||(O.value=!0,j.value?y.getResponse().then((function(e){$.$post(m.a.recaptcha,{token:e}).then(L).catch((function(){y.reset(),R.value=!0,O.value=!1}))})).catch((function(){R.value=!0,O.value=!1})):L())},beforeOpen:function(){N.userName=S.value,N.errors=A(),N.description="",M()},beforeClose:function(){E.value.$reset(),N.userName="",N.errors=[],N.description=""},required:f.h,modalReportProductId:v.y}}}),y=h,k=(t(1880),t(204)),component=Object(k.a)(y,(function(){var e=this,r=e._self._c,t=e._self._setupProxy;return r("div",{staticClass:"report-error"},[r("BaseButton",{attrs:{theme:"link"},on:{click:t.handleOpenReport}},[e._v("\n    "+e._s(e.$t("product.report_error.title"))+"\n  ")]),e._v(" "),r("BaseModal",{attrs:{"modal-id":t.modalReportProductId,"content-style":"max-width: 46rem;width:100%",scrollable:""},on:{"before-open":t.beforeOpen,"before-close":t.beforeClose}},[r("div",{staticClass:"modal-body"},[r("header",{staticClass:"modal-body__head"},[r("div",{staticClass:"modal-body__title"},[e._v("\n          "+e._s(e.$t("product.report_error.title"))+"\n        ")]),e._v(" "),r("div",{staticClass:"modal-body__close icon-times-light z-index__2",attrs:{tabindex:"0"},on:{click:t.closeModal}})]),e._v(" "),r("BaseForm",{on:{submit:t.handleSubmit}},[r("div",{staticClass:"form-row"},[r("BaseInput",{attrs:{placeholder:e.$t("product.report_error.name"),error:t.$v.userName.$error},scopedSlots:e._u([{key:"errors",fn:function(){return[t.$v.userName.max_length&&t.$v.$error?r("BaseInputError",[e._v("\n                "+e._s(e.$t("common.field_errors.max_length",{count:30}))+"\n              ")]):e._e()]},proxy:!0}]),model:{value:t.formData.userName,callback:function(r){e.$set(t.formData,"userName",r)},expression:"formData.userName"}})],1),e._v(" "),r("div",{staticClass:"form-row"},[r("div",{staticClass:"form-column"},[r("p",{staticClass:"form-row__checkbox-title"},[e._v("\n              "+e._s(e.$t("product.report_error.error"))+":\n            ")]),e._v(" "),r("div",{staticClass:"form-row__checkbox-wrapper"},e._l(t.formData.errors,(function(t){return r("BaseCheckbox",{key:"error-".concat(t.key),attrs:{checked:t.checked,"native-value":t.key},on:{change:function(e){t.checked=e}}},[e._v("\n                "+e._s(t.value)+"\n              ")])})),1)])]),e._v(" "),r("div",{staticClass:"form-row"},[r("BaseTextarea",{attrs:{placeholder:e.$t("product.report_error.description"),error:t.$v.userName.$error},scopedSlots:e._u([{key:"errors",fn:function(){return[t.$v.description.required&&t.$v.$error?r("BaseInputError",[e._v("\n                "+e._s(e.$t("common.field_errors.required"))+"\n              ")]):t.$v.description.max_length&&t.$v.$error?r("BaseInputError",[e._v("\n                "+e._s(e.$t("common.field_errors.max_length",{count:500}))+"\n              ")]):e._e()]},proxy:!0}]),model:{value:t.formData.description,callback:function(r){e.$set(t.formData,"description",r)},expression:"formData.description"}})],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showCaptcha,expression:"showCaptcha"}],staticClass:"form-row"},[r("recaptcha",{on:{success:function(e){t.captchaError=!1}}})],1),e._v(" "),t.isAReshipment?r("p",{staticClass:"report-error__reshipment"},[e._v("\n          "+e._s(e.$t("product.report_error.is_a_reshipment"))+"\n        ")]):e._e(),e._v(" "),r("div",{staticClass:"form-row"},[r("BaseButton",{attrs:{type:"submit","full-width":"",loading:t.submitRequest,outline:""}},[e._v("\n            "+e._s(e.$t("product.report_error.send"))+"\n          ")])],1)])],1)])],1)}),[],!1,null,"c6b2d072",null);r.default=component.exports}}]);